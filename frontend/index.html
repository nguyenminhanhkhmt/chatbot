<!DOCTYPE html>
<html style="font-size: 16px;" lang="en"><head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="keywords" content="‚ÄãProfessional Cleaning Services to Make Your Space Sparkle and Shine!">
    <meta name="description" content="">
    <title>Trang ch·ªß</title>
    
    <!-- Th√™m Chart.js t·ª´ CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Bootstrap Bundle JS cho modal -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
  rel="stylesheet"
  integrity="sha384-‚Ä¶"
  crossorigin="anonymous"
>


    <link rel="stylesheet" href="nicepage.css" media="screen">
    <link rel="stylesheet" href="index.css" media="screen">
    <script class="u-script" type="text/javascript" src="jquery.js" defer=""></script>
    <script class="u-script" type="text/javascript" src="nicepage.js" defer=""></script>
    <script class="u-script" type="text/javascript" src="main.js" defer=""></script>
    
    <meta name="generator" content="Nicepage 7.10.11, nicepage.com">
    <meta name="referrer" content="origin">
</head>

    
    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i|Inter:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i">
    <link id="u-page-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i">
    <link id="u-header-footer-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i">
    <script type="application/ld+json">{
		"@context": "http://schema.org",
		"@type": "Organization",
		"name": "",
		"logo": "images\logo.png"
}</script>
    <meta name="theme-color" content="#cfb02c">
    <meta property="og:title" content="FAQ 1">
    <meta property="og:type" content="website">
  <meta name="referrer" content="origin"><meta data-intl-tel-input-cdn-path="intlTelInput/"></head>
  <body data-home-page="https://website6534616.nicepage.io/FAQ-1.html?version=b20910b7-c22f-b2c3-b9b0-bc915bc7274d" data-home-page-title="FAQ 1" data-path-to-root="/" data-include-products="false" class="u-body u-xl-mode" data-lang="en"><header class="u-clearfix u-header" id="sec-b613"><div class="u-align-left u-clearfix u-sheet u-valign-middle-sm u-valign-middle-xl u-valign-middle-xs u-sheet-1">
        <a href="https://docs.google.com/forms/d/e/1FAIpQLSc7cmilqVrIjunbt4p9TpxsNH3AAOYJq0PMdAOWKV-1j2jRQQ/viewform" class="u-active-palette-2-dark-1 u-align-center u-border-none u-btn u-btn-round u-button-style u-custom-color-1 u-hover-custom-color-3 u-radius u-btn-1" data-animation-name="" data-animation-duration="0" data-animation-delay="0" data-animation-direction="">ƒêƒÇNG K√ù NH·∫¨P H·ªåC</a>
        <nav class="u-menu u-menu-one-level u-offcanvas u-menu-1" data-responsive-from="MD" role="navigation">
          <div class="menu-collapse" style="font-size: 1rem; letter-spacing: 0px; font-weight: 500;">
            <a class="u-button-style u-custom-active-border-color u-custom-active-color u-custom-border u-custom-border-color u-custom-borders u-custom-hover-border-color u-custom-hover-color u-custom-left-right-menu-spacing u-custom-padding-bottom u-custom-text-active-color u-custom-text-color u-custom-text-decoration u-custom-text-hover-color u-custom-top-bottom-menu-spacing u-hamburger-link u-nav-link u-hamburger-link-1" href="#" tabindex="-1" aria-label="Open menu" aria-controls="f457">
              <svg class="u-svg-link" viewBox="0 0 24 24"><use xlink:href="#menu-hamburger"></use></svg>
              <svg class="u-svg-content" version="1.1" id="menu-hamburger" viewBox="0 0 16 16" x="0px" y="0px" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg"><g><rect y="1" width="16" height="2"></rect><rect y="7" width="16" height="2"></rect><rect y="13" width="16" height="2"></rect>
</g></svg>
            </a>
          </div>
          <div class="u-custom-menu u-nav-container">
            <ul class="u-nav u-spacing-30 u-unstyled u-nav-1" role="menubar"><li role="none" class="u-nav-item"><a tabindex="-1" role="menuitem" class="u-border-1 u-border-active-palette-2-base u-border-hover-palette-1-base u-border-no-left u-border-no-right u-border-no-top u-button-style u-nav-link u-text-active-palette-2-base u-text-hover-palette-2-base u-text-palette-2-base" aria-haspopup="true" style="padding: 6px 0px;" href="/index.html">Trang ch·ªß</a>
          </div>
          <div class="u-custom-menu u-nav-container-collapse" id="f457" role="region" aria-label="Menu panel">
            <div class="u-black u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav">
              <div class="u-inner-container-layout u-sidenav-overflow">
                <div class="u-menu-close" tabindex="-1" aria-label="Close menu"></div>
                <ul class="u-align-center u-nav u-popupmenu-items u-unstyled u-nav-2" role="menubar"><li role="none" class="u-nav-item"><a tabindex="-1" role="menuitem" class="u-button-style u-nav-link" aria-haspopup="true">Trang ch·ªß</a>
</li><li role="none" class="u-nav-item"><a tabindex="-1" role="menuitem" class="u-button-style u-nav-link">Th√¥ng tin</a>
</li><li role="none" class="u-nav-item"><a tabindex="-1" role="menuitem" class="u-button-style u-nav-link">Tin t·ª©c</a>
</li><li role="none" class="u-nav-item"><a tabindex="-1" role="menuitem" class="u-button-style u-nav-link">Li√™n h·ªá</a>
</li></ul>
              </div>
            </div>
            <div class="u-black u-menu-overlay u-opacity u-opacity-70"></div>
          </div>
          <style class="menu-style">@media (max-width: 939px) {
                    [data-responsive-from="MD"] .u-nav-container {
                        display: none;
                    }
                    [data-responsive-from="MD"] .menu-collapse {
                        display: block;
                    }
                }</style>
        </nav>
        <a href="" class="u-image u-logo u-image-1" data-image-width="994" data-image-height="1000">
          <img src="images\logo.png" class="u-logo-image u-logo-image-1">
        </a>
        <p class="u-custom-font u-font-montserrat u-text u-text-custom-color-1 u-text-default u-text-1">Tr∆∞·ªùng TiH-THCS-THPT H√≤a B√¨nh</p>
      </div></header>
    <section class="u-clearfix u-container-align-center u-custom-color-1 u-section-1" id="sec-4ca5">
      <div class="u-clearfix u-sheet u-valign-middle-lg u-valign-middle-md u-valign-middle-sm u-valign-middle-xs u-sheet-1">
        <h1 class="u-align-center u-custom-font u-font-montserrat u-text u-text-1" data-animation-name="customAnimationIn" data-animation-duration="1000" data-animation-delay="0"> V·ªØng n·ªÅn t·∫£ng, s√°ng t∆∞∆°ng lai</h1>
        <img class="u-expanded-width u-image u-image-round u-radius u-image-1" data-image-width="2048" data-image-height="1365" src="images\bg.jpg" data-animation-name="flipIn" data-animation-duration="1500" data-animation-delay="500" data-animation-direction="X">
      </div>
    </section>
    <section class="u-clearfix u-custom-color-1 u-section-2" id="sec-f9f0">
      <div class="u-clearfix u-sheet u-valign-middle-lg u-valign-middle-md u-valign-middle-sm u-valign-middle-xs u-sheet-1">
        <h2 class="u-align-center u-custom-font u-font-montserrat u-text u-text-default u-text-1" data-animation-name="customAnimationIn" data-animation-duration="1500" data-animation-delay="0">B·∫£ng ƒëi·ªÅu khi·ªÉn</h2>
        <a href="/addCate" class="u-btn u-btn-round u-button-style u-custom-font u-font-montserrat u-hover-palette-1-light-1 u-palette-1-base u-radius u-btn-1">Th√™m danh m·ª•c</a>
        <a href="/admin" class="u-btn u-btn-round u-button-style u-custom-font u-font-montserrat u-hover-palette-1-light-1 u-palette-1-base u-radius u-btn-2">Th√™m c√¢u h·ªèi </a>
      </div>
    </section>
    <section class="u-clearfix u-container-align-center u-custom-color-1 " id="sec-167c">
      <div class="u-clearfix u-sheet u-valign-middle-lg u-valign-middle-md u-valign-middle-sm u-valign-middle-xs u-sheet-1 u-section-3">
        <h2 class="u-align-center u-custom-font u-font-montserrat u-text u-text-default u-text-1" data-animation-name="customAnimationIn" data-animation-duration="1500" data-animation-delay="0">üìà T·ªïng quan h·ªá th·ªëng</h2>    
      </div>
      <div class="u-clearfix u-sheet u-valign-middle-lg u-valign-middle-md u-valign-middle-sm u-valign-middle-xs u-sheet-1 u-section-3">
        <div class="u-inline-block">
            <h4 class="u-align-left u-custom-font u-font-montserrat u-text u-text-default u-text-1" data-animation-name="customAnimationIn" data-animation-duration="1500" data-animation-delay="0">
                üîÅ L∆∞·ª£t truy c·∫≠p
                <p id="statSessions" class="u-align-center u-text u-text-2" data-animation-name="customAnimationIn" data-animation-duration="1500" data-animation-delay="0">...</p>
            </h4>
        </div>
      <div class="u-inline-block">
          <h4 class="u-align-left u-custom-font u-font-montserrat u-text u-text-default u-text-1" data-animation-name="customAnimationIn" data-animation-duration="1500" data-animation-delay="0">
              üí¨ S·ªë c√¢u h·ªèi
              <p id="statQuestions" class="u-align-center u-text u-text-2" data-animation-name="customAnimationIn" data-animation-duration="1500" data-animation-delay="0">...</p>
          </h4>
      </div>
      <div class="u-inline-block">
          <h4 class="u-align-left u-custom-font u-font-montserrat u-text u-text-default u-text-1" data-animation-name="customAnimationIn" data-animation-duration="1500" data-animation-delay="0">
              üéØ Hi·ªáu qu·∫£
              <p id="statEffectiveness" class="u-align-center u-text u-text-2" data-animation-name="customAnimationIn" data-animation-duration="1500" data-animation-delay="0">...</p>
          </h4>
      </div>
    </section>

    <section class="u-clearfix u-container-align-center u-custom-color-1 u-section-3" id="sec-167c">
      <div class="u-clearfix u-sheet u-valign-middle-lg u-valign-middle-md u-valign-middle-sm u-valign-middle-xs u-sheet-1 u-section-3">
          <h2 class="u-align-center u-custom-font u-font-montserrat u-text u-text-default u-text-1" data-animation-name="customAnimationIn" data-animation-duration="1500" data-animation-delay="0">üìä Th·ªëng k√™ l·ªãch s·ª≠ chat</h2>
          <canvas id="categoryChartuser" width="1000hv" height="1000hv" 
            class="u-align-center u-custom-font u-font-montserrat u-text u-text-default u-text-1"
            data-animation-name="customAnimationIn"
            data-animation-duration="1500"
            data-animation-delay="0">
          </canvas>
          <canvas id="categoryChartassistant" width="1000hv" height="1000hv" 
            class="u-align-center u-custom-font u-font-montserrat u-text u-text-default u-text-1"
            data-animation-name="customAnimationIn"
            data-animation-duration="1500"
            data-animation-delay="0">
          </canvas>
      </div>
    </section>

<!-- ======= SECTION: Bar Chart v√† B·∫£ng C√¢u C·∫ßn X√°c Th·ª±c ======= -->
<section class="u-clearfix u-container-align-center u-custom-color-1 u-section-3" id="sec-chat-details">
  <div class="u-sheet u-sheet-1">
    <!-- Bar chart s·ªë c√¢u h·ªèi theo gi·ªù -->
<h2 class="u-align-center u-custom-font u-font-montserrat u-text u-text-default u-text-1"
    data-animation-name="customAnimationIn"
    data-animation-duration="1500"
    data-animation-delay="100"
    data-animation-direction="X">
  üìä S·ªë l∆∞·ª£ng c√¢u h·ªèi theo gi·ªù
</h2>
    <div class="u-align-center u-container-align-center u-container-style u-group u-white u-group-1 p-3"
        data-animation-name="customAnimationIn"
        data-animation-duration="1500"
        data-animation-delay="100"
        data-animation-direction="X">
      <canvas id="chatCountByHourChart" width="600" height="300"
        data-animation-name="customAnimationIn"
        data-animation-duration="1500"
        data-animation-delay="0">
      </canvas>
    </div>

    <!-- B·∫£ng C√¢u c·∫ßn x√°c th·ª±c -->
<h2 class="u-align-center u-custom-font u-font-montserrat u-text u-text-default u-text-1"
    data-animation-name="customAnimationIn"
    data-animation-duration="1500"
    data-animation-delay="100"
    data-animation-direction="X">
  üìã C√¢u c·∫ßn x√°c th·ª±c
</h2>    <div class="u-container-align-center u-container-style u-group u-white u-group-2 p-3"
          data-animation-name="customAnimationIn"
          data-animation-duration="1500"
          data-animation-delay="0">
      <table class="table table-hover"
            data-animation-name="customAnimationIn"
            data-animation-duration="1500"
            data-animation-delay="100"
            data-animation-direction="X">
        <thead class="table-light">
          <tr>
            <th>ƒê·∫°i di·ªán</th>
            <th>S·ªë l·∫ßn xu·∫•t hi·ªán</th>
            <th>H√†nh ƒë·ªông</th>
          </tr>
        </thead>
        <tbody id="groupsTable">
          <!-- JavaScript s·∫Ω ƒë·ªï d·ªØ li·ªáu v√†o ƒë√¢y -->
        </tbody>
      </table>
    </div>
  </div>

  <!-- Modal nh·∫≠p chi ti·∫øt -->
<div class="modal" id="addQuestionModal">
  <div class="modal-dialog">
    <div class="modal-content p-3 text-dark">
      <h5>‚ûï Th√™m c√¢u h·ªèi</h5>
      <div class="mb-3">
        <label>Danh m·ª•c ID</label>
        <select id="danhmuc" class="form-select"></select>
      </div>
      <div class="mb-3">
        <label>C√¢u h·ªèi</label>
        <input id="cauhoiInput" class="form-control" readonly />
      </div>
      <div class="mb-3">
        <label>C√¢u tr·∫£ l·ªùi</label>
        <textarea id="cautraloiInput" class="form-control"></textarea>
      </div>
      <div class="text-end">
        <button class="btn btn-primary" id="saveButton">L∆∞u</button>
      </div>
    </div>
  </div>
</div>
</section>

<!-- Script Ajax/Logic -->
  <script src="/main.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <!-- Footer -->
  <footer class="u-align-center u-clearfix u-custom-color-1 u-footer" id="sec-8746">
    <div class="u-clearfix u-sheet u-valign-middle-lg u-valign-middle-md u-valign-middle-sm u-valign-middle-xs u-sheet-1">
      <a href="" class="u-image u-logo u-image-1" data-image-width="994" data-image-height="1000">
        <img src="/images/logo.png" class="u-logo-image u-logo-image-1" alt="Logo">
      </a>
      <p class="u-align-left u-custom-font u-font-montserrat u-text u-text-default u-text-1">
        <strong>C∆° s·ªü 1:</strong> 69 Tr·ªãnh ƒê√¨nh Th·∫£o, P. T√¢n Ph√∫, Tp. H·ªì Ch√≠ Minh<br>
        <strong>C∆° s·ªü 2:</strong> 152 Nguy·ªÖn Duy D∆∞∆°ng, P. V∆∞·ªùn L√†i, Tp. H·ªì Ch√≠ Minh<br>
        <strong>ƒêT:</strong> (028) 3832 2883 - (028) 6292 5826<br>
        <strong>Email:</strong> <a href="mailto:info@truonghoabinh.edu.vn" class="text-decoration-none">info@truonghoabinh.edu.vn</a>
      </p>
    </div>
  </footer>


<!-- Modal Bootstrap (·∫©n m·∫∑c ƒë·ªãnh) -->
<div class="modal fade" id="addQuestionModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content p-3">
      <div class="modal-header">
        <h5 class="modal-title">‚ûï Th√™m c√¢u h·ªèi</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <select id="danhmuc" class="form-select mb-2"></select>
        <input   id="cauhoiInput" class="form-control mb-2" readonly>
        <textarea id="cautraloiInput" class="form-control mb-2"></textarea>
      </div>
      <div class="modal-footer">
        <button id="saveButton" class="btn btn-primary">L∆∞u</button>
      </div>
    </div>
  </div>
</div>

  <script>
  // Bi·∫øn d√πng chung
  let currentGroup = [];

  // H√†m t·∫°o m√†u ng·∫´u nhi√™n
  function randomColor() {
    const r = Math.floor(Math.random()*200+55),
          g = Math.floor(Math.random()*200+55),
          b = Math.floor(Math.random()*200+55);
    return `rgb(${r},${g},${b})`;
  }

  // 1Ô∏è‚É£ C·∫≠p nh·∫≠t s·ªë li·ªáu t·ªïng quan
  async function fetchSummaryStats() {
    const res = await fetch('/api/chat_summary'),
          d   = await res.json();
    animateCount(document.getElementById('statSessions'),    d.total_sessions);
    animateCount(document.getElementById('statQuestions'),   d.total_questions);
    animateCount(document.getElementById('statEffectiveness'), Math.round(d.effectiveness), 1000, '%');
  }

  // 2Ô∏è‚É£ Pie-chart: c√¢u h·ªèi ng∆∞·ªùi d√πng
  async function fetchChatUser() {
    const res  = await fetch('/api/getchatuser'),
          data = await res.json();
    new Chart(
      document.getElementById('categoryChartuser').getContext('2d'),
      {
        type: 'pie',
        data: {
          labels: data.map(d=>d.category),
          datasets: [{ data: data.map(d=>d.count), backgroundColor: data.map(()=>randomColor()) }]
        },
        options:{
          plugins:{
            title:
            {
              display:true,
              color: 'white',
              text:'T·ªâ l·ªá c√¢u h·ªèi ng∆∞·ªùi d√πng',
              font: { size: 30 }
            }, 
            legend:{
              position:'bottom',
              labels: {
                color: 'white',
                font: { size: 15 }
              }
            }
          }
        }
      }
    );
  }

  // 3Ô∏è‚É£ Pie-chart: c√¢u tr·∫£ l·ªùi tr·ª£ l√Ω
  async function fetchChatAssistant() {
    const res  = await fetch('/api/getchatassistant'),
          data = await res.json();
    new Chart(
      document.getElementById('categoryChartassistant').getContext('2d'),
      {
        type:'pie',
        data:{
          labels:data.map(d=>d.category),
          datasets:[{ data:data.map(d=>d.count), backgroundColor:data.map(()=>randomColor()) }]
        },
        options:{
          plugins:{
            title:
            {
              display:true,
              color: 'white',
              text:'T·ªâ l·ªá c√¢u tr·∫£ l·ªùi tr·ª£ l√Ω',
              font: { size: 30 }
            }, 
            legend:{
              position:'bottom',
              labels: {
                color: 'white',
                font: { size: 15 }
              }
            }
          }
        }
      }
    );
  }

  async function fetchChatCountByHour() {
  const res    = await fetch('/api/chat_count_by_hour');
  const data   = await res.json();
  const labels = data.map(d => d.hour + 'h');
  const counts = data.map(d => d.count);

  const ctx = document.getElementById('chatCountByHourChart').getContext('2d');

  // T·∫°o gradient t·ª´ gold xu·ªëng trong su·ªët
  const gradient = ctx.createLinearGradient(0, 0, 0, 250);
  gradient.addColorStop(0, 'rgba(207,176,44,0.5)'); // gold 50%
  gradient.addColorStop(1, 'rgba(207,176,44,0)');   // gold 0%

  new Chart(ctx, {
    type: 'line',
    data: {
      labels,
      datasets: [{
        label: 'S·ªë c√¢u h·ªèi',
        data: counts,
        borderColor: '#cfb02c',     // ƒë∆∞·ªùng v√†ng
        backgroundColor: gradient,  // fill gradient v√†ng
        tension: 0.3,
        borderWidth: 3,
        pointBackgroundColor: '#fff',
        pointBorderColor: '#364152',// vi·ªÅn ƒëi·ªÉm m√†u dark
        pointBorderWidth: 2,
        pointRadius: 5,
        pointHoverRadius: 7,
        fill: true
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      layout: { padding: 20 },
      plugins: {
        title: {
          display: true,
          text: 'S·ªë c√¢u h·ªèi theo gi·ªù',
          color: '#364152',
          font: { size: 18, weight: '600' },
          padding: { bottom: 12 }
        },
        tooltip: {
          backgroundColor: '#fff',
          titleColor: '#364152',
          bodyColor: '#333',
          borderColor: '#ddd',
          borderWidth: 1,
          padding: 10
        },
        legend: { display: false }
      },
      scales: {
        x: {
          title: {
            display: true,
            text: 'Gi·ªù trong ng√†y',
            color: '#364152',
            font: { size: 14, weight: '500' }
          },
          ticks: { color: '#555', font: { size: 12 } },
          grid: { display: false }
        },
        y: {
          beginAtZero: true,
          title: {
            display: true,
            text: 'S·ªë c√¢u',
            color: '#364152',
            font: { size: 14, weight: '500' }
          },
          ticks: { color: '#555', font: { size: 12 } },
          grid: { color: '#ebedef' }
        }
      }
    }
  });
}

  // 5Ô∏è‚É£ Load b·∫£ng ‚ÄúC√¢u c·∫ßn x√°c th·ª±c‚Äù
  async function loadGroups() {
    const res   = await fetch('http://localhost:8000/chat/grouped-unknown'),
          {groups} = await res.json(),
          tbody = document.getElementById('groupsTable');
    tbody.innerHTML = '';
    groups.forEach(g => {
      const tr = document.createElement('tr');
      tr.innerHTML = `
        <td>${g.representative}</td>
        <td>${g.count}</td>
        <td>
          <button type="button" class="btn btn-success btn-sm"
          data-bs-toggle="modal" 
          data-bs-target="#addQuestionModal"
          onclick="openAddModal('${encodeURIComponent(g.representative)}', ${JSON.stringify(g.ids)})">
    ‚ûï Th√™m
  </button>
        </td>`;
      tbody.appendChild(tr);
    });
  }
  

  // 6Ô∏è‚É£ Show modal & g√°n d·ªØ li·ªáu
  function openAddModal(representative, ids) {
  currentGroup = ids;
  document.getElementById("cauhoiInput").value = decodeURIComponent(representative);
  const modal = new bootstrap.Modal(document.getElementById("addQuestionModal"));
  modal.show();
}


  // 7Ô∏è‚É£ L∆∞u c√¢u h·ªèi t·ª´ modal
  document.getElementById('saveButton').addEventListener('click', async () => {
    const danhmuc   = document.getElementById('danhmuc').value,
          cauhoi    = document.getElementById('cauhoiInput').value,
          cautraloi = document.getElementById('cautraloiInput').value.trim();
    if (!danhmuc || !cautraloi) return alert('Ch∆∞a ch·ªçn danh m·ª•c ho·∫∑c ch∆∞a nh·∫≠p c√¢u tr·∫£ l·ªùi');
    const res    = await fetch('/api/add_question_from_group', {
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body: JSON.stringify({danhmuc,cauhoi,cautraloi,ids:currentGroup})
    }),
    result = await res.json();
    if (result.success) {
      alert('‚úÖ Th√™m th√†nh c√¥ng!');
      loadGroups();
      bootstrap.Modal.getInstance(document.getElementById('addQuestionModal')).hide();
    } else {
      alert('‚ùå ' + (result.message||'L·ªói server'));
    }
  });

  // Sau khi modal ·∫©n (hidden), x√≥a backdrop v√† g·ª° l·ªõp kho√° scroll tr√™n body
const addQuestionModalEl = document.getElementById('addQuestionModal');
addQuestionModalEl.addEventListener('hidden.bs.modal', () => {
  // xo√° to√†n b·ªô backdrop t·ªìn s√≥t
  document.querySelectorAll('.modal-backdrop').forEach(el => el.remove());
  // g·ª° class kho√° scroll
  document.body.classList.remove('modal-open');
});


  // 9Ô∏è‚É£ Kh·ªüi ch·∫°y khi trang load xong
  window.addEventListener('load', () => {
    fetchSummaryStats();
    fetchChatUser();
    fetchChatAssistant();
    fetchChatCountByHour();
    loadGroups();
  });
</script>


    